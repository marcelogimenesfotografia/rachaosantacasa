<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ranking Ciclistas</title>
<style>
body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f9; color: #222; }
header { background-color: #ffffff; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15); position: sticky; top: 0; z-index: 10; padding-bottom: 20px; }
header img { width: 100%; max-width: 600px; height: auto; display: block; margin: 0 auto; border-bottom: 1px solid #e0e0e0; }
header h1 { margin: 10px 0 0 0; font-size: 2rem; color: #222; }
.btn-container { text-align: center; margin: 20px 0; display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; }
button { padding: 10px 18px; border: none; border-radius: 25px; background-color: #fdd835; color: black; cursor: pointer; font-weight: 600; transition: 0.3s; flex: 1 1 auto; min-width: 100px; }
button:hover { background-color: #fbc02d; }
button.active { background-color: #fbc02d; }
.table-container { width: 100%; display: flex; justify-content: center; margin-bottom: 40px; }
.ranking-table { width: 95%; max-width: 1000px; border-collapse: collapse; table-layout: fixed; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1); background-color: #fff; }
.ranking-table th, .ranking-table td { padding: 12px 8px; border-bottom: 1px solid #e0e0e0; height: 60px; }
.ranking-table th { background-color: #fff8e1; font-weight: 700; font-size: 0.95rem; text-transform: uppercase; letter-spacing: 0.5px; text-align: left; }
.ranking-table td { vertical-align: middle; font-size: 0.95rem; word-wrap: break-word; text-align: left; }
.ranking-table img { width: 68px; height: 68px; border-radius: 50%; object-fit: cover; margin-right: 8px; vertical-align: middle; }
.cyclist-info { display: flex; align-items: center; }
.cyclist-text { display: flex; flex-direction: column; margin-left: 6px; }
.cyclist-name { font-weight: 700; color: #000; cursor: pointer; margin: 0; display:block; font-size: 1rem; }
.team-name { font-size: 0.85rem; color: #555; margin: 2px 0 0 0; display:block; }
.gold { background-color: rgba(255, 215, 0, 0.3); }
.silver { background-color: rgba(192,192,192,0.3); }
.bronze { background-color: rgba(205,127,50,0.3); }
th:nth-child(1) { width: 6%; } th:nth-child(2) { width: 40%; } th:nth-child(n+3) { width: auto; text-align: right; }
.ranking-table td:nth-child(n+3) { text-align: right; }
@media (max-width: 700px) { .ranking-table th:nth-child(2), .ranking-table td:nth-child(2) { width: auto; } .ranking-table td { padding: 10px 5px; } .ranking-table img { width: 64px; height: 64px; } }
.modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
.modal-content { background-color: #fff; margin: 10% auto; padding: 20px; border-radius: 10px; width: 90%; max-width: 400px; text-align: center; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
.modal-content img { width: 150px; height: 150px; border-radius: 50%; margin-bottom: 15px; }
.close { position: absolute; top: 10px; right: 15px; font-size: 24px; font-weight: bold; color: #333; cursor: pointer; }
</style>
</head>
<body>
<header>
<img src="https://marcelogimenesfotografia.github.io/rachaosantacasa/toporachao.png" alt="Topo Rachão">
<h1>Rachão Santa Casa</h1>
</header>
<div class="btn-container">
<button id="btn-geral" class="active">Geral</button>
<button id="btn-etapa1">Etapa 1</button>
<button id="btn-etapa2">Etapa 2</button>
</div>
<div class="table-container">
<table class="ranking-table">
<thead id="ranking-head"></thead>
<tbody id="ranking-body"></tbody>
</table>
</div>
<div id="modal" class="modal">
<div class="modal-content">
<span class="close" id="modal-close">&times;</span>
<img id="modal-foto" src="" alt="Foto">
<h2 id="modal-nome"></h2>
<p id="modal-posicao"></p>
<p id="modal-equipe"></p>
</div>
</div>
<script>
const defaultFoto = 'https://raw.githubusercontent.com/marcelogimenesfotografia/rachaosantacasa/main/994380792726247885.jpg';
const etapas = {
  1: [
    {nome:'MANDI', equipe:'WK Team', pontos:15, foto:'https://raw.githubusercontent.com/marcelogimenesfotografia/rachaosantacasa/main/mandi.png'},
    {nome:'MAIQUE', equipe:'EMC - Equipe Mourãoense de Ciclismo', pontos:13, foto:''},
    {nome:'JULIANO', equipe:'WK Team', pontos:11, foto:''},
    {nome:'VALMIR', equipe:'EMC - Equipe Mourãoense de Ciclismo', pontos:9, foto:''},
    {nome:'ARIZINHO', equipe:'Sem equipe', pontos:7, foto:''},
    {nome:'GIMENES', equipe:'Sem equipe', pontos:5, foto:''},
    {nome:'EMANUEL', equipe:'Sem equipe', pontos:3, foto:''},
    {nome:'ANDRÉ', equipe:'Sem equipe', pontos:1, foto:''},
    {nome:'THIAGO BORGES', equipe:'Sem equipe', pontos:1, foto:''},
    {nome:'LUCIANO', equipe:'', pontos:1, foto:''}
  ],
  2: [
    {nome:'MANDI', equipe:'WK Team', pontos:15, foto:'https://raw.githubusercontent.com/marcelogimenesfotografia/rachaosantacasa/main/mandi.png'},
    {nome:'EDSON', equipe:'', pontos:13, foto:''},
    {nome:'VINICIUS', equipe:'', pontos:11, foto:''},
    {nome:'JULIANO', equipe:'WK Team', pontos:9, foto:''},
    {nome:'VALMIR', equipe:'EMC - Equipe Mourãoense de Ciclismo', pontos:7, foto:''},
    {nome:'KLÉBER', equipe:'', pontos:5, foto:''},
    {nome:'ARIZINHO', equipe:'Sem equipe', pontos:3, foto:''},
    {nome:'RAUL', equipe:'', pontos:1, foto:''},
    {nome:'DANILO', equipe:'', pontos:1, foto:'https://raw.githubusercontent.com/marcelogimenesfotografia/rachaosantacasa/main/danilo.png'},
    {nome:'GIMENES', equipe:'Sem equipe', pontos:1, foto:''}
  ]
};

function init(){
  function setActive(btnId){
    document.querySelectorAll('.btn-container button').forEach(b=>b.classList.remove('active'));
    document.getElementById(btnId).classList.add('active');
  }

  function openModal(c,pos){
    document.getElementById('modal-foto').src = c.foto || defaultFoto;
    document.getElementById('modal-nome').textContent = c.nome;
    document.getElementById('modal-posicao').textContent = 'Posição: ' + pos;
    document.getElementById('modal-equipe').textContent = c.equipe || '';
    document.getElementById('modal').style.display='block';
  }

  function showStage(stage){
    const head = document.getElementById('ranking-head');
    const body = document.getElementById('ranking-body');
    head.innerHTML = '';
    body.innerHTML = '';
    function getFoto(c){ return c.foto ? c.foto : defaultFoto; }

    if(stage==='geral'){
      const th = document.createElement('tr');
      th.innerHTML='<th>Pos</th><th>Ciclista</th><th>Etapa 1</th><th>Etapa 2</th><th>Total</th>';
      head.appendChild(th);
      let geral={};
      for(const etapaNum in etapas){
        (etapas[etapaNum]||[]).forEach(c=>{
          if(!geral[c.nome]) geral[c.nome]={nome:c.nome,equipe:c.equipe,foto:c.foto||defaultFoto,total:0,etapas:{}};
          geral[c.nome].etapas[etapaNum]=c.pontos;
          geral[c.nome].total+=c.pontos;
        });
      }
      let arr=Object.values(geral);
      arr.sort((a,b)=>b.total-a.total);
      arr.forEach((c,i)=>{
        const row=document.createElement('tr');
        if(i===0) row.classList.add('gold');
        else if(i===1) row.classList.add('silver');
        else if(i===2) row.classList.add('bronze');
        row.innerHTML=`<td>${i+1}</td><td class='cyclist-info'><img src='${c.foto}'><div class='cyclist-text'><span class='cyclist-name'>${c.nome}</span><span class='team-name'>${c.equipe}</span></div></td><td>${c.etapas[1]||0}</td><td>${c.etapas[2]||0}</td><td>${c.total}</td>`;
        row.querySelector('.cyclist-name').onclick=()=>openModal(c,i+1);
        body.appendChild(row);
      });
    } else {
      const etapaArr = etapas[stage] || [];
      const th = document.createElement('tr');
      th.innerHTML='<th>Pos</th><th>Ciclista</th><th>Pontos</th>';
      head.appendChild(th);
      etapaArr.sort((a,b)=>(b.pontos||0)-(a.pontos||0));
      etapaArr.forEach((c,i)=>{
        const row=document.createElement('tr');
        if(i===0) row.classList.add('gold');
        else if(i===1) row.classList.add('silver');
        else if(i===2) row.classList.add('bronze');
        row.innerHTML=`<td>${i+1}</td><td class='cyclist-info'><img src='${getFoto(c)}'><div class='cyclist-text'><span class='cyclist-name'>${c.nome}</span><span class='team-name'>${c.equipe}</span></div></td><td>${c.pontos}</td>`;
        row.querySelector('.cyclist-name').onclick=()=>openModal(c,i+1);
        body.appendChild(row);
      });
    }
  }

  document.getElementById('btn-geral').onclick=()=>{setActive('btn-geral'); showStage('geral');};
  document.getElementById('btn-etapa1').onclick=()=>{setActive('btn-etapa1'); showStage(1);};
  document.getElementById('btn-etapa2').onclick=()=>{setActive('btn-etapa2'); showStage(2);};
  document.getElementById('modal-close').onclick=()=>{document.getElementById('modal').style.display='none';};
  showStage('geral');
}

window.onload=init;
</script>
</body>
</html>
